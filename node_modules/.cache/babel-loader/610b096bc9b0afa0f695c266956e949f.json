{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport getScrollBarSize from \"rc-util/es/getScrollBarSize\";\nimport classNames from 'classnames';\nimport { getOffset } from \"rc-util/es/Dom/css\";\nimport TableContext from './context/TableContext';\nimport { useFrameState } from './hooks/useFrame';\n\nvar StickyScrollBar = function StickyScrollBar(_ref, ref) {\n  var _scrollBodyRef$curren, _scrollBodyRef$curren2;\n\n  var scrollBodyRef = _ref.scrollBodyRef,\n      onScroll = _ref.onScroll,\n      offsetScroll = _ref.offsetScroll;\n\n  var _React$useContext = React.useContext(TableContext),\n      prefixCls = _React$useContext.prefixCls;\n\n  var bodyScrollWidth = ((_scrollBodyRef$curren = scrollBodyRef.current) === null || _scrollBodyRef$curren === void 0 ? void 0 : _scrollBodyRef$curren.scrollWidth) || 0;\n  var bodyWidth = ((_scrollBodyRef$curren2 = scrollBodyRef.current) === null || _scrollBodyRef$curren2 === void 0 ? void 0 : _scrollBodyRef$curren2.clientWidth) || 0;\n  var scrollBarWidth = bodyScrollWidth && bodyWidth * (bodyWidth / bodyScrollWidth);\n  var scrollBarRef = React.useRef();\n\n  var _useFrameState = useFrameState({\n    scrollLeft: 0,\n    isHiddenScrollBar: false\n  }),\n      _useFrameState2 = _slicedToArray(_useFrameState, 2),\n      frameState = _useFrameState2[0],\n      setFrameState = _useFrameState2[1];\n\n  var refState = React.useRef({\n    delta: 0,\n    x: 0\n  });\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isActive = _React$useState2[0],\n      setActive = _React$useState2[1];\n\n  var onMouseUp = function onMouseUp() {\n    setActive(false);\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    event.persist();\n    refState.current.delta = event.pageX - frameState.scrollLeft;\n    refState.current.x = 0;\n    setActive(true);\n    event.preventDefault();\n  };\n\n  var onMouseMove = function onMouseMove(event) {\n    var _window; // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\n\n\n    var _ref2 = event || ((_window = window) === null || _window === void 0 ? void 0 : _window.event),\n        buttons = _ref2.buttons;\n\n    if (!isActive || buttons === 0) {\n      // If out body mouse up, we can set isActive false when mouse move\n      if (isActive) {\n        setActive(false);\n      }\n\n      return;\n    }\n\n    var left = refState.current.x + event.pageX - refState.current.x - refState.current.delta;\n\n    if (left <= 0) {\n      left = 0;\n    }\n\n    if (left + scrollBarWidth >= bodyWidth) {\n      left = bodyWidth - scrollBarWidth;\n    }\n\n    onScroll({\n      scrollLeft: left / bodyWidth * (bodyScrollWidth + 2)\n    });\n    refState.current.x = event.pageX;\n  };\n\n  var onContainerScroll = function onContainerScroll() {\n    var tableOffsetTop = getOffset(scrollBodyRef.current).top;\n    var tableBottomOffset = tableOffsetTop + scrollBodyRef.current.offsetHeight;\n    var currentClientOffset = document.documentElement.scrollTop + window.innerHeight;\n\n    if (tableBottomOffset - getScrollBarSize() <= currentClientOffset || tableOffsetTop >= currentClientOffset - offsetScroll) {\n      setFrameState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isHiddenScrollBar: true\n        });\n      });\n    } else {\n      setFrameState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isHiddenScrollBar: false\n        });\n      });\n    }\n  };\n\n  var setScrollLeft = function setScrollLeft(left) {\n    setFrameState(function (state) {\n      return _objectSpread(_objectSpread({}, state), {}, {\n        scrollLeft: left / bodyScrollWidth * bodyWidth || 0\n      });\n    });\n  };\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      setScrollLeft: setScrollLeft\n    };\n  });\n  React.useEffect(function () {\n    var onMouseUpListener = addEventListener(document.body, 'mouseup', onMouseUp, false);\n    var onMouseMoveListener = addEventListener(document.body, 'mousemove', onMouseMove, false);\n    onContainerScroll();\n    return function () {\n      onMouseUpListener.remove();\n      onMouseMoveListener.remove();\n    };\n  }, [scrollBarWidth, isActive]);\n  React.useEffect(function () {\n    var onScrollListener = addEventListener(window, 'scroll', onContainerScroll, false);\n    var onResizeListener = addEventListener(window, 'resize', onContainerScroll, false);\n    return function () {\n      onScrollListener.remove();\n      onResizeListener.remove();\n    };\n  }, []);\n  React.useEffect(function () {\n    if (!frameState.isHiddenScrollBar) {\n      setFrameState(function (state) {\n        var _scrollBodyRef$curren3, _scrollBodyRef$curren4;\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          scrollLeft: scrollBodyRef.current.scrollLeft / ((_scrollBodyRef$curren3 = scrollBodyRef.current) === null || _scrollBodyRef$curren3 === void 0 ? void 0 : _scrollBodyRef$curren3.scrollWidth) * ((_scrollBodyRef$curren4 = scrollBodyRef.current) === null || _scrollBodyRef$curren4 === void 0 ? void 0 : _scrollBodyRef$curren4.clientWidth)\n        });\n      });\n    }\n  }, [frameState.isHiddenScrollBar]);\n\n  if (bodyScrollWidth <= bodyWidth || !scrollBarWidth || frameState.isHiddenScrollBar) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    style: {\n      height: getScrollBarSize(),\n      width: bodyWidth,\n      bottom: offsetScroll\n    },\n    className: \"\".concat(prefixCls, \"-sticky-scroll\")\n  }, React.createElement(\"div\", {\n    onMouseDown: onMouseDown,\n    ref: scrollBarRef,\n    className: classNames(\"\".concat(prefixCls, \"-sticky-scroll-bar\"), _defineProperty({}, \"\".concat(prefixCls, \"-sticky-scroll-bar-active\"), isActive)),\n    style: {\n      width: \"\".concat(scrollBarWidth, \"px\"),\n      transform: \"translate3d(\".concat(frameState.scrollLeft, \"px, 0, 0)\")\n    }\n  }));\n};\n\nexport default React.forwardRef(StickyScrollBar);","map":{"version":3,"sources":["/home/diegozago/Documents/hi-platform-test/node_modules/rc-table/es/stickyScrollBar.js"],"names":["_defineProperty","_objectSpread","_slicedToArray","React","addEventListener","getScrollBarSize","classNames","getOffset","TableContext","useFrameState","StickyScrollBar","_ref","ref","_scrollBodyRef$curren","_scrollBodyRef$curren2","scrollBodyRef","onScroll","offsetScroll","_React$useContext","useContext","prefixCls","bodyScrollWidth","current","scrollWidth","bodyWidth","clientWidth","scrollBarWidth","scrollBarRef","useRef","_useFrameState","scrollLeft","isHiddenScrollBar","_useFrameState2","frameState","setFrameState","refState","delta","x","_React$useState","useState","_React$useState2","isActive","setActive","onMouseUp","onMouseDown","event","persist","pageX","preventDefault","onMouseMove","_window","_ref2","window","buttons","left","onContainerScroll","tableOffsetTop","top","tableBottomOffset","offsetHeight","currentClientOffset","document","documentElement","scrollTop","innerHeight","state","setScrollLeft","useImperativeHandle","useEffect","onMouseUpListener","body","onMouseMoveListener","remove","onScrollListener","onResizeListener","_scrollBodyRef$curren3","_scrollBodyRef$curren4","createElement","style","height","width","bottom","className","concat","transform","forwardRef"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport getScrollBarSize from \"rc-util/es/getScrollBarSize\";\nimport classNames from 'classnames';\nimport { getOffset } from \"rc-util/es/Dom/css\";\nimport TableContext from './context/TableContext';\nimport { useFrameState } from './hooks/useFrame';\n\nvar StickyScrollBar = function StickyScrollBar(_ref, ref) {\n  var _scrollBodyRef$curren, _scrollBodyRef$curren2;\n\n  var scrollBodyRef = _ref.scrollBodyRef,\n      onScroll = _ref.onScroll,\n      offsetScroll = _ref.offsetScroll;\n\n  var _React$useContext = React.useContext(TableContext),\n      prefixCls = _React$useContext.prefixCls;\n\n  var bodyScrollWidth = ((_scrollBodyRef$curren = scrollBodyRef.current) === null || _scrollBodyRef$curren === void 0 ? void 0 : _scrollBodyRef$curren.scrollWidth) || 0;\n  var bodyWidth = ((_scrollBodyRef$curren2 = scrollBodyRef.current) === null || _scrollBodyRef$curren2 === void 0 ? void 0 : _scrollBodyRef$curren2.clientWidth) || 0;\n  var scrollBarWidth = bodyScrollWidth && bodyWidth * (bodyWidth / bodyScrollWidth);\n  var scrollBarRef = React.useRef();\n\n  var _useFrameState = useFrameState({\n    scrollLeft: 0,\n    isHiddenScrollBar: false\n  }),\n      _useFrameState2 = _slicedToArray(_useFrameState, 2),\n      frameState = _useFrameState2[0],\n      setFrameState = _useFrameState2[1];\n\n  var refState = React.useRef({\n    delta: 0,\n    x: 0\n  });\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isActive = _React$useState2[0],\n      setActive = _React$useState2[1];\n\n  var onMouseUp = function onMouseUp() {\n    setActive(false);\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    event.persist();\n    refState.current.delta = event.pageX - frameState.scrollLeft;\n    refState.current.x = 0;\n    setActive(true);\n    event.preventDefault();\n  };\n\n  var onMouseMove = function onMouseMove(event) {\n    var _window;\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\n    var _ref2 = event || ((_window = window) === null || _window === void 0 ? void 0 : _window.event),\n        buttons = _ref2.buttons;\n\n    if (!isActive || buttons === 0) {\n      // If out body mouse up, we can set isActive false when mouse move\n      if (isActive) {\n        setActive(false);\n      }\n\n      return;\n    }\n\n    var left = refState.current.x + event.pageX - refState.current.x - refState.current.delta;\n\n    if (left <= 0) {\n      left = 0;\n    }\n\n    if (left + scrollBarWidth >= bodyWidth) {\n      left = bodyWidth - scrollBarWidth;\n    }\n\n    onScroll({\n      scrollLeft: left / bodyWidth * (bodyScrollWidth + 2)\n    });\n    refState.current.x = event.pageX;\n  };\n\n  var onContainerScroll = function onContainerScroll() {\n    var tableOffsetTop = getOffset(scrollBodyRef.current).top;\n    var tableBottomOffset = tableOffsetTop + scrollBodyRef.current.offsetHeight;\n    var currentClientOffset = document.documentElement.scrollTop + window.innerHeight;\n\n    if (tableBottomOffset - getScrollBarSize() <= currentClientOffset || tableOffsetTop >= currentClientOffset - offsetScroll) {\n      setFrameState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isHiddenScrollBar: true\n        });\n      });\n    } else {\n      setFrameState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isHiddenScrollBar: false\n        });\n      });\n    }\n  };\n\n  var setScrollLeft = function setScrollLeft(left) {\n    setFrameState(function (state) {\n      return _objectSpread(_objectSpread({}, state), {}, {\n        scrollLeft: left / bodyScrollWidth * bodyWidth || 0\n      });\n    });\n  };\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      setScrollLeft: setScrollLeft\n    };\n  });\n  React.useEffect(function () {\n    var onMouseUpListener = addEventListener(document.body, 'mouseup', onMouseUp, false);\n    var onMouseMoveListener = addEventListener(document.body, 'mousemove', onMouseMove, false);\n    onContainerScroll();\n    return function () {\n      onMouseUpListener.remove();\n      onMouseMoveListener.remove();\n    };\n  }, [scrollBarWidth, isActive]);\n  React.useEffect(function () {\n    var onScrollListener = addEventListener(window, 'scroll', onContainerScroll, false);\n    var onResizeListener = addEventListener(window, 'resize', onContainerScroll, false);\n    return function () {\n      onScrollListener.remove();\n      onResizeListener.remove();\n    };\n  }, []);\n  React.useEffect(function () {\n    if (!frameState.isHiddenScrollBar) {\n      setFrameState(function (state) {\n        var _scrollBodyRef$curren3, _scrollBodyRef$curren4;\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          scrollLeft: scrollBodyRef.current.scrollLeft / ((_scrollBodyRef$curren3 = scrollBodyRef.current) === null || _scrollBodyRef$curren3 === void 0 ? void 0 : _scrollBodyRef$curren3.scrollWidth) * ((_scrollBodyRef$curren4 = scrollBodyRef.current) === null || _scrollBodyRef$curren4 === void 0 ? void 0 : _scrollBodyRef$curren4.clientWidth)\n        });\n      });\n    }\n  }, [frameState.isHiddenScrollBar]);\n\n  if (bodyScrollWidth <= bodyWidth || !scrollBarWidth || frameState.isHiddenScrollBar) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    style: {\n      height: getScrollBarSize(),\n      width: bodyWidth,\n      bottom: offsetScroll\n    },\n    className: \"\".concat(prefixCls, \"-sticky-scroll\")\n  }, React.createElement(\"div\", {\n    onMouseDown: onMouseDown,\n    ref: scrollBarRef,\n    className: classNames(\"\".concat(prefixCls, \"-sticky-scroll-bar\"), _defineProperty({}, \"\".concat(prefixCls, \"-sticky-scroll-bar-active\"), isActive)),\n    style: {\n      width: \"\".concat(scrollBarWidth, \"px\"),\n      transform: \"translate3d(\".concat(frameState.scrollLeft, \"px, 0, 0)\")\n    }\n  }));\n};\n\nexport default React.forwardRef(StickyScrollBar);"]},"metadata":{},"sourceType":"module"}