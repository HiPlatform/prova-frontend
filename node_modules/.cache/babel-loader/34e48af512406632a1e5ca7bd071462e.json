{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useRef } from 'react';\nvar MIN_SWIPE_DISTANCE = 0.1;\nvar STOP_SWIPE_DISTANCE = 0.01;\nvar REFRESH_INTERVAL = 20;\nvar SPEED_OFF_MULTIPLE = Math.pow(0.995, REFRESH_INTERVAL); // ========================= Check if is a mobile =========================\n\nexport function isMobile() {\n  var agent = navigator.userAgent || navigator.vendor || window.opera;\n\n  if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(agent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(agent.substr(0, 4))) {\n    return true;\n  }\n\n  return false;\n} // ================================= Hook =================================\n\nexport default function useTouchMove(ref, onOffset) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      touchPosition = _useState2[0],\n      setTouchPosition = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lastTimestamp = _useState4[0],\n      setLastTimestamp = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      lastTimeDiff = _useState6[0],\n      setLastTimeDiff = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lastOffset = _useState8[0],\n      setLastOffset = _useState8[1];\n\n  var motionRef = useRef(); // ========================= Events =========================\n  // >>> Touch events\n\n  function onTouchStart(e) {\n    var _e$touches$ = e.touches[0],\n        screenX = _e$touches$.screenX,\n        screenY = _e$touches$.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    window.clearInterval(motionRef.current);\n  }\n\n  function onTouchMove(e) {\n    if (!touchPosition) return;\n    e.preventDefault();\n    var _e$touches$2 = e.touches[0],\n        screenX = _e$touches$2.screenX,\n        screenY = _e$touches$2.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    var offsetX = screenX - touchPosition.x;\n    var offsetY = screenY - touchPosition.y;\n    onOffset(offsetX, offsetY);\n    var now = Date.now();\n    setLastTimestamp(now);\n    setLastTimeDiff(now - lastTimestamp);\n    setLastOffset({\n      x: offsetX,\n      y: offsetY\n    });\n  }\n\n  function onTouchEnd() {\n    if (!touchPosition) return;\n    setTouchPosition(null);\n    setLastOffset(null); // Swipe if needed\n\n    if (lastOffset) {\n      var distanceX = lastOffset.x / lastTimeDiff;\n      var distanceY = lastOffset.y / lastTimeDiff;\n      var absX = Math.abs(distanceX);\n      var absY = Math.abs(distanceY); // Skip swipe if low distance\n\n      if (Math.max(absX, absY) < MIN_SWIPE_DISTANCE) return;\n      var currentX = distanceX;\n      var currentY = distanceY;\n      motionRef.current = window.setInterval(function () {\n        if (Math.abs(currentX) < STOP_SWIPE_DISTANCE && Math.abs(currentY) < STOP_SWIPE_DISTANCE) {\n          window.clearInterval(motionRef.current);\n          return;\n        }\n\n        currentX *= SPEED_OFF_MULTIPLE;\n        currentY *= SPEED_OFF_MULTIPLE;\n        onOffset(currentX * REFRESH_INTERVAL, currentY * REFRESH_INTERVAL);\n      }, REFRESH_INTERVAL);\n    }\n  } // >>> Wheel event\n\n\n  var lastWheelTimestampRef = useRef(0);\n  var lastWheelPreventRef = useRef(false);\n  var lastWheelDirectionRef = useRef();\n\n  function onWheel(e) {\n    var deltaX = e.deltaX,\n        deltaY = e.deltaY; // Convert both to x & y since wheel only happened on PC\n\n    var mixed = 0;\n    var absX = Math.abs(deltaX);\n    var absY = Math.abs(deltaY);\n\n    if (absX === absY) {\n      mixed = lastWheelDirectionRef.current === 'x' ? deltaX : deltaY;\n    } else if (absX > absY) {\n      mixed = deltaX;\n      lastWheelDirectionRef.current = 'x';\n    } else {\n      mixed = deltaY;\n      lastWheelDirectionRef.current = 'y';\n    } // Optimize mac touch scroll\n\n\n    var now = Date.now();\n\n    if (now - lastWheelTimestampRef.current > 100) {\n      lastWheelPreventRef.current = false;\n    }\n\n    if (onOffset(-mixed, -mixed) || lastWheelPreventRef.current) {\n      e.preventDefault();\n      lastWheelPreventRef.current = true;\n    }\n\n    lastWheelTimestampRef.current = now;\n  } // ========================= Effect =========================\n\n\n  var touchEventsRef = useRef(null);\n  touchEventsRef.current = {\n    onTouchStart: onTouchStart,\n    onTouchMove: onTouchMove,\n    onTouchEnd: onTouchEnd,\n    onWheel: onWheel\n  };\n  React.useEffect(function () {\n    function onProxyTouchStart(e) {\n      touchEventsRef.current.onTouchStart(e);\n    }\n\n    function onProxyTouchMove(e) {\n      touchEventsRef.current.onTouchMove(e);\n    }\n\n    function onProxyTouchEnd(e) {\n      touchEventsRef.current.onTouchEnd(e);\n    }\n\n    function onProxyWheel(e) {\n      touchEventsRef.current.onWheel(e);\n    }\n\n    document.addEventListener('touchmove', onProxyTouchMove, {\n      passive: false\n    });\n    document.addEventListener('touchend', onProxyTouchEnd, {\n      passive: false\n    }); // No need to clean up since element removed\n\n    ref.current.addEventListener('touchstart', onProxyTouchStart, {\n      passive: false\n    });\n    ref.current.addEventListener('wheel', onProxyWheel);\n    return function () {\n      document.removeEventListener('touchmove', onProxyTouchMove);\n      document.removeEventListener('touchend', onProxyTouchEnd);\n    };\n  }, []);\n}","map":{"version":3,"sources":["/home/diegozago/Documents/hi-platform-test/node_modules/rc-tabs/es/hooks/useTouchMove.js"],"names":["_slicedToArray","React","useState","useRef","MIN_SWIPE_DISTANCE","STOP_SWIPE_DISTANCE","REFRESH_INTERVAL","SPEED_OFF_MULTIPLE","Math","pow","isMobile","agent","navigator","userAgent","vendor","window","opera","test","substr","useTouchMove","ref","onOffset","_useState","_useState2","touchPosition","setTouchPosition","_useState3","_useState4","lastTimestamp","setLastTimestamp","_useState5","_useState6","lastTimeDiff","setLastTimeDiff","_useState7","_useState8","lastOffset","setLastOffset","motionRef","onTouchStart","e","_e$touches$","touches","screenX","screenY","x","y","clearInterval","current","onTouchMove","preventDefault","_e$touches$2","offsetX","offsetY","now","Date","onTouchEnd","distanceX","distanceY","absX","abs","absY","max","currentX","currentY","setInterval","lastWheelTimestampRef","lastWheelPreventRef","lastWheelDirectionRef","onWheel","deltaX","deltaY","mixed","touchEventsRef","useEffect","onProxyTouchStart","onProxyTouchMove","onProxyTouchEnd","onProxyWheel","document","addEventListener","passive","removeEventListener"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useRef } from 'react';\nvar MIN_SWIPE_DISTANCE = 0.1;\nvar STOP_SWIPE_DISTANCE = 0.01;\nvar REFRESH_INTERVAL = 20;\nvar SPEED_OFF_MULTIPLE = Math.pow(0.995, REFRESH_INTERVAL); // ========================= Check if is a mobile =========================\n\nexport function isMobile() {\n  var agent = navigator.userAgent || navigator.vendor || window.opera;\n\n  if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(agent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(agent.substr(0, 4))) {\n    return true;\n  }\n\n  return false;\n} // ================================= Hook =================================\n\nexport default function useTouchMove(ref, onOffset) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      touchPosition = _useState2[0],\n      setTouchPosition = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lastTimestamp = _useState4[0],\n      setLastTimestamp = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      lastTimeDiff = _useState6[0],\n      setLastTimeDiff = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lastOffset = _useState8[0],\n      setLastOffset = _useState8[1];\n\n  var motionRef = useRef(); // ========================= Events =========================\n  // >>> Touch events\n\n  function onTouchStart(e) {\n    var _e$touches$ = e.touches[0],\n        screenX = _e$touches$.screenX,\n        screenY = _e$touches$.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    window.clearInterval(motionRef.current);\n  }\n\n  function onTouchMove(e) {\n    if (!touchPosition) return;\n    e.preventDefault();\n    var _e$touches$2 = e.touches[0],\n        screenX = _e$touches$2.screenX,\n        screenY = _e$touches$2.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    var offsetX = screenX - touchPosition.x;\n    var offsetY = screenY - touchPosition.y;\n    onOffset(offsetX, offsetY);\n    var now = Date.now();\n    setLastTimestamp(now);\n    setLastTimeDiff(now - lastTimestamp);\n    setLastOffset({\n      x: offsetX,\n      y: offsetY\n    });\n  }\n\n  function onTouchEnd() {\n    if (!touchPosition) return;\n    setTouchPosition(null);\n    setLastOffset(null); // Swipe if needed\n\n    if (lastOffset) {\n      var distanceX = lastOffset.x / lastTimeDiff;\n      var distanceY = lastOffset.y / lastTimeDiff;\n      var absX = Math.abs(distanceX);\n      var absY = Math.abs(distanceY); // Skip swipe if low distance\n\n      if (Math.max(absX, absY) < MIN_SWIPE_DISTANCE) return;\n      var currentX = distanceX;\n      var currentY = distanceY;\n      motionRef.current = window.setInterval(function () {\n        if (Math.abs(currentX) < STOP_SWIPE_DISTANCE && Math.abs(currentY) < STOP_SWIPE_DISTANCE) {\n          window.clearInterval(motionRef.current);\n          return;\n        }\n\n        currentX *= SPEED_OFF_MULTIPLE;\n        currentY *= SPEED_OFF_MULTIPLE;\n        onOffset(currentX * REFRESH_INTERVAL, currentY * REFRESH_INTERVAL);\n      }, REFRESH_INTERVAL);\n    }\n  } // >>> Wheel event\n\n\n  var lastWheelTimestampRef = useRef(0);\n  var lastWheelPreventRef = useRef(false);\n  var lastWheelDirectionRef = useRef();\n\n  function onWheel(e) {\n    var deltaX = e.deltaX,\n        deltaY = e.deltaY; // Convert both to x & y since wheel only happened on PC\n\n    var mixed = 0;\n    var absX = Math.abs(deltaX);\n    var absY = Math.abs(deltaY);\n\n    if (absX === absY) {\n      mixed = lastWheelDirectionRef.current === 'x' ? deltaX : deltaY;\n    } else if (absX > absY) {\n      mixed = deltaX;\n      lastWheelDirectionRef.current = 'x';\n    } else {\n      mixed = deltaY;\n      lastWheelDirectionRef.current = 'y';\n    } // Optimize mac touch scroll\n\n\n    var now = Date.now();\n\n    if (now - lastWheelTimestampRef.current > 100) {\n      lastWheelPreventRef.current = false;\n    }\n\n    if (onOffset(-mixed, -mixed) || lastWheelPreventRef.current) {\n      e.preventDefault();\n      lastWheelPreventRef.current = true;\n    }\n\n    lastWheelTimestampRef.current = now;\n  } // ========================= Effect =========================\n\n\n  var touchEventsRef = useRef(null);\n  touchEventsRef.current = {\n    onTouchStart: onTouchStart,\n    onTouchMove: onTouchMove,\n    onTouchEnd: onTouchEnd,\n    onWheel: onWheel\n  };\n  React.useEffect(function () {\n    function onProxyTouchStart(e) {\n      touchEventsRef.current.onTouchStart(e);\n    }\n\n    function onProxyTouchMove(e) {\n      touchEventsRef.current.onTouchMove(e);\n    }\n\n    function onProxyTouchEnd(e) {\n      touchEventsRef.current.onTouchEnd(e);\n    }\n\n    function onProxyWheel(e) {\n      touchEventsRef.current.onWheel(e);\n    }\n\n    document.addEventListener('touchmove', onProxyTouchMove, {\n      passive: false\n    });\n    document.addEventListener('touchend', onProxyTouchEnd, {\n      passive: false\n    }); // No need to clean up since element removed\n\n    ref.current.addEventListener('touchstart', onProxyTouchStart, {\n      passive: false\n    });\n    ref.current.addEventListener('wheel', onProxyWheel);\n    return function () {\n      document.removeEventListener('touchmove', onProxyTouchMove);\n      document.removeEventListener('touchend', onProxyTouchEnd);\n    };\n  }, []);\n}"]},"metadata":{},"sourceType":"module"}