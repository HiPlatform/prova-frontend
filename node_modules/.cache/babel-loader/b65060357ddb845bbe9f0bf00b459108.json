{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined';\nimport CloseCircleFilled from '@ant-design/icons/CloseCircleFilled';\nimport CheckCircleFilled from '@ant-design/icons/CheckCircleFilled';\nimport ExclamationCircleFilled from '@ant-design/icons/ExclamationCircleFilled';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport CSSMotion from 'rc-motion';\nimport Col from '../grid/col';\nimport { FormContext } from './context';\nimport useCacheErrors from './hooks/useCacheErrors';\nimport useForceUpdate from '../_util/hooks/useForceUpdate';\nvar iconMap = {\n  success: CheckCircleFilled,\n  warning: ExclamationCircleFilled,\n  error: CloseCircleFilled,\n  validating: LoadingOutlined\n};\n\nvar FormItemInput = function FormItemInput(_ref) {\n  var prefixCls = _ref.prefixCls,\n      wrapperCol = _ref.wrapperCol,\n      children = _ref.children,\n      help = _ref.help,\n      errors = _ref.errors,\n      onDomErrorVisibleChange = _ref.onDomErrorVisibleChange,\n      hasFeedback = _ref.hasFeedback,\n      validateStatus = _ref.validateStatus,\n      extra = _ref.extra;\n  var forceUpdate = useForceUpdate();\n  var baseClassName = \"\".concat(prefixCls, \"-item\");\n  var formContext = React.useContext(FormContext);\n  var mergedWrapperCol = wrapperCol || formContext.wrapperCol || {};\n  var className = classNames(\"\".concat(baseClassName, \"-control\"), mergedWrapperCol.className);\n\n  var _useCacheErrors = useCacheErrors(errors, function (changedVisible) {\n    if (changedVisible) {\n      /**\n       * We trigger in sync to avoid dom shaking but this get warning in react 16.13.\n       * So use Promise to keep in micro async to handle this.\n       * https://github.com/ant-design/ant-design/issues/21698#issuecomment-593743485\n       */\n      Promise.resolve().then(function () {\n        onDomErrorVisibleChange(true);\n      });\n    }\n\n    forceUpdate();\n  }, !!help),\n      _useCacheErrors2 = _slicedToArray(_useCacheErrors, 2),\n      visible = _useCacheErrors2[0],\n      cacheErrors = _useCacheErrors2[1];\n\n  React.useEffect(function () {\n    return function () {\n      onDomErrorVisibleChange(false);\n    };\n  }, []);\n  var memoErrors = useMemo(function () {\n    return cacheErrors;\n  }, visible, function (_, nextVisible) {\n    return nextVisible;\n  }); // Should provides additional icon if `hasFeedback`\n\n  var IconNode = validateStatus && iconMap[validateStatus];\n  var icon = hasFeedback && IconNode ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(baseClassName, \"-children-icon\")\n  }, /*#__PURE__*/React.createElement(IconNode, null)) : null; // Pass to sub FormItem should not with col info\n\n  var subFormContext = _extends({}, formContext);\n\n  delete subFormContext.labelCol;\n  delete subFormContext.wrapperCol;\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: subFormContext\n  }, /*#__PURE__*/React.createElement(Col, _extends({}, mergedWrapperCol, {\n    className: className\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-control-input\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-control-input-content\")\n  }, children), icon), /*#__PURE__*/React.createElement(CSSMotion, {\n    motionDeadline: 500,\n    visible: visible,\n    motionName: \"show-help\",\n    onLeaveEnd: function onLeaveEnd() {\n      onDomErrorVisibleChange(false);\n    },\n    motionAppear: true,\n    removeOnLeave: true\n  }, function (_ref2) {\n    var motionClassName = _ref2.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(baseClassName, \"-explain\"), motionClassName),\n      key: \"help\"\n    }, memoErrors.map(function (error, index) {\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line react/no-array-index-key\n        React.createElement(\"div\", {\n          key: index,\n          role: \"alert\"\n        }, error)\n      );\n    }));\n  }), extra && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-extra\")\n  }, extra)));\n};\n\nexport default FormItemInput;","map":{"version":3,"sources":["/home/diegozago/Documents/hi-platform-test/node_modules/antd/es/form/FormItemInput.js"],"names":["_extends","_slicedToArray","React","classNames","LoadingOutlined","CloseCircleFilled","CheckCircleFilled","ExclamationCircleFilled","useMemo","CSSMotion","Col","FormContext","useCacheErrors","useForceUpdate","iconMap","success","warning","error","validating","FormItemInput","_ref","prefixCls","wrapperCol","children","help","errors","onDomErrorVisibleChange","hasFeedback","validateStatus","extra","forceUpdate","baseClassName","concat","formContext","useContext","mergedWrapperCol","className","_useCacheErrors","changedVisible","Promise","resolve","then","_useCacheErrors2","visible","cacheErrors","useEffect","memoErrors","_","nextVisible","IconNode","icon","createElement","subFormContext","labelCol","Provider","value","motionDeadline","motionName","onLeaveEnd","motionAppear","removeOnLeave","_ref2","motionClassName","key","map","index","role"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined';\nimport CloseCircleFilled from '@ant-design/icons/CloseCircleFilled';\nimport CheckCircleFilled from '@ant-design/icons/CheckCircleFilled';\nimport ExclamationCircleFilled from '@ant-design/icons/ExclamationCircleFilled';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport CSSMotion from 'rc-motion';\nimport Col from '../grid/col';\nimport { FormContext } from './context';\nimport useCacheErrors from './hooks/useCacheErrors';\nimport useForceUpdate from '../_util/hooks/useForceUpdate';\nvar iconMap = {\n  success: CheckCircleFilled,\n  warning: ExclamationCircleFilled,\n  error: CloseCircleFilled,\n  validating: LoadingOutlined\n};\n\nvar FormItemInput = function FormItemInput(_ref) {\n  var prefixCls = _ref.prefixCls,\n      wrapperCol = _ref.wrapperCol,\n      children = _ref.children,\n      help = _ref.help,\n      errors = _ref.errors,\n      onDomErrorVisibleChange = _ref.onDomErrorVisibleChange,\n      hasFeedback = _ref.hasFeedback,\n      validateStatus = _ref.validateStatus,\n      extra = _ref.extra;\n  var forceUpdate = useForceUpdate();\n  var baseClassName = \"\".concat(prefixCls, \"-item\");\n  var formContext = React.useContext(FormContext);\n  var mergedWrapperCol = wrapperCol || formContext.wrapperCol || {};\n  var className = classNames(\"\".concat(baseClassName, \"-control\"), mergedWrapperCol.className);\n\n  var _useCacheErrors = useCacheErrors(errors, function (changedVisible) {\n    if (changedVisible) {\n      /**\n       * We trigger in sync to avoid dom shaking but this get warning in react 16.13.\n       * So use Promise to keep in micro async to handle this.\n       * https://github.com/ant-design/ant-design/issues/21698#issuecomment-593743485\n       */\n      Promise.resolve().then(function () {\n        onDomErrorVisibleChange(true);\n      });\n    }\n\n    forceUpdate();\n  }, !!help),\n      _useCacheErrors2 = _slicedToArray(_useCacheErrors, 2),\n      visible = _useCacheErrors2[0],\n      cacheErrors = _useCacheErrors2[1];\n\n  React.useEffect(function () {\n    return function () {\n      onDomErrorVisibleChange(false);\n    };\n  }, []);\n  var memoErrors = useMemo(function () {\n    return cacheErrors;\n  }, visible, function (_, nextVisible) {\n    return nextVisible;\n  }); // Should provides additional icon if `hasFeedback`\n\n  var IconNode = validateStatus && iconMap[validateStatus];\n  var icon = hasFeedback && IconNode ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(baseClassName, \"-children-icon\")\n  }, /*#__PURE__*/React.createElement(IconNode, null)) : null; // Pass to sub FormItem should not with col info\n\n  var subFormContext = _extends({}, formContext);\n\n  delete subFormContext.labelCol;\n  delete subFormContext.wrapperCol;\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: subFormContext\n  }, /*#__PURE__*/React.createElement(Col, _extends({}, mergedWrapperCol, {\n    className: className\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-control-input\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-control-input-content\")\n  }, children), icon), /*#__PURE__*/React.createElement(CSSMotion, {\n    motionDeadline: 500,\n    visible: visible,\n    motionName: \"show-help\",\n    onLeaveEnd: function onLeaveEnd() {\n      onDomErrorVisibleChange(false);\n    },\n    motionAppear: true,\n    removeOnLeave: true\n  }, function (_ref2) {\n    var motionClassName = _ref2.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(baseClassName, \"-explain\"), motionClassName),\n      key: \"help\"\n    }, memoErrors.map(function (error, index) {\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line react/no-array-index-key\n        React.createElement(\"div\", {\n          key: index,\n          role: \"alert\"\n        }, error)\n      );\n    }));\n  }), extra && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-extra\")\n  }, extra)));\n};\n\nexport default FormItemInput;"]},"metadata":{},"sourceType":"module"}